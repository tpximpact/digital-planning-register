@import "src/styles/component-base";
@import "node_modules/govuk-frontend/dist/govuk/core/index";
@import "node_modules/govuk-frontend/dist/govuk/components/accordion/index";


.dpr-accordion-timeline {
  &__section {
    position: relative;

    &:last-of-type::after {
    background: transparent;
    width:1px;
    height:1px;
    }

    &-button {
     @extend .govuk-accordion__section-button;
      display: block;
      border: none !important;
      background-color: transparent;
      text-align: left;
      width: 100%;
      cursor: pointer;
      padding-bottom: 15px;

      &:hover {
        color: #0b0c0c;
        background: #f3f2f1;
      }

      &:focus {
        outline: 3px solid transparent;
        color: #0b0c0c;
        background-color: govuk-colour("yellow");
        box-shadow: 0 -2px govuk-colour("yellow"), 0 4px govuk-colour("black");
      }
    }

    &-heading-text {
      display: govuk-colour("black");
      text-align: left;
      margin-bottom: 13px;
      padding-left: 2rem;
      font-size: 1.1875rem;
      line-height: 1.3157894737;

      &-focus {
        outline: 3px solid transparent;
        color: #0b0c0c;
        background-color: govuk-colour("yellow");
      }
    }

    &-toggle {
      font-size: 1rem;
      line-height: 1.25;
      font-weight: 400;
      color: govuk-colour("blue");
      width: fit-content;
      margin-left: 2rem;
    }

    &-content {
      padding-left: 2rem;
    }

    &--end::after {
      background: transparent;
      width: 1px;
      height: 1px;
    }

    &::before {
      content: "";
      position: absolute;
      top: 1.25em;
      left: 4px;
      width: 10px;
      height: 10px;
      border-radius: 100px;
      background: govuk-colour("white");
      border-left: 1px solid govuk-colour("blue");
      border: 2px solid govuk-colour("blue");
      z-index: 10;
    }

    &::after {
      content: "";
      position: absolute;
      left: 9px;
      top: 1.35em;
      width: 3px;
      height: 100%;
      background: govuk-colour("blue");
      z-index: 5;
    }
  }

}

.accordion {
  margin-bottom: 30px;

  &__section {
    padding-top: 0;
  }

  &-nav__chevron {
    box-sizing: border-box;
    display: inline-block;
    position: relative;
    width: 1.25rem;
    height: 1.25rem;
    border: 0.0625rem solid;
    border-radius: 50%;
    vertical-align: middle;
    margin-right: 5px;

    &:after {
      content: "";
      box-sizing: border-box;
      display: block;
      position: absolute;
      bottom: 0.3125rem;
      left: 0.375rem;
      width: 0.375rem;
      height: 0.375rem;
      transform: rotate(-45deg);
      border-top: 0.125rem solid;
      border-right: 0.125rem solid;
    }

    &--down {
      transform: rotate(180deg);
    }
  }

  &__heading {
    padding-top: 0;
  }
}

.govuk-accordion__show-all-text {
  display: none;
}

.timeline-date {
    font-weight:normal;
    display:block;
}


@media (min-width: 40.0625em) {
  .dpr-accordion-timeline {
    &__section-button {
      width: 100%;
      display: flex;
      align-items: baseline;
      justify-content: space-between;
    }

    &__section-heading-text {
      display: flex;
      justify-content: space-between;
      width: 70%;
    }
  }

  .accordion__section-heading-text {
    margin-bottom: 0;
  }
}

